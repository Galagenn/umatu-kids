## UmaTu kids — статическая вёрстка

Обычная вёрстка без WordPress: HTML, CSS, JS. Добавлены мок-данные каталога, формы с AJAX-заглушкой и модуль Яндекс.Карт для передачи фронтенда бэкендеру.

### Как запустить локально (PNPM + Vite)

1. Установи зависимости:

   ```bash
   pnpm install
   ```

2. Запусти dev-сервер Vite:

   ```bash
   pnpm dev
   ```

3. Открой адрес из консоли (обычно `http://localhost:5173`) — главная страница `index.html`.

Для production-сборки:

```bash
pnpm build
pnpm preview
```

### Страницы

- `index.html` — главная (Hero, категории, о компании, форма «Запросить прайс-лист», портфолио).
- `catalog.html` — каталог решений UmaTu kids: сетка карточек с данными из `data/products.json`, фильтр по типу (`product_type`) и простая пагинация.
- `portfolio.html` — портфолио с фильтром по отраслям.
- `contacts.html` — контакты и форма «Заказать звонок», блок под карту и инициализация модуля карты.
- `faq.html` — FAQ (аккордеон).
- `product/*.html` — детальные страницы товаров (например, `product/delta-17.html`).

Стили в `css/style.css` (SCSS-подобная модульная структура блоков/компонентов), основные скрипты в `js/*.js`.

### Мок-данные

- `data/products.json` — список продуктов (каталог). Поля:
  - `id` — числовой идентификатор;
  - `slug` — строковый слаг, используется в URL `/product/<slug>.html`;
  - `title` — заголовок;
  - `excerpt` — краткое описание;
  - `description` — полное описание;
  - `images` — массив путей к изображениям;
  - `product_type` — тип продукта (используется в фильтре каталога);
  - `industry` — массив отраслей;
  - `pdf` — ссылка на PDF-файл;
  - `specs` — словарь характеристик key/value.

- `data/portfolio.json` — карточки портфолио (используются для демонстрации структуры данных).

### Mock API / заглушка

- `api/send.json` — статический mock-эндпоинт для отправки форм. Фронт шлёт запросы на `/api/send` методом `POST` и ожидает ответ формата:

  ```json
  { "status": "success" }
  ```

- `api/products.json` — упрощённый список продуктов (демо-структура API для каталога).

### Формы и AJAX

Модуль `js/forms.js`:

- инициализация всех форм с классом `uk-form` (`initForms`);
- валидация полей `name`, `phone`, `email` на клиенте;
- отправка данных на `/api/send` через `fetch`:

  ```js
  fetch('/api/send', {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify(payload)
  });
  ```

- обработка успешного/ошибочного ответа; при ошибке сетью используется mock-ответ через `setTimeout`;
- показ toast-уведомления (`<div id="uk-toast">`) об успехе/ошибке;
- закрытие модальных окон после успешной отправки.

Форма «Запросить прайс-лист»:

- на главной (`index.html`) — блок `#price-request`, форма с классом `uk-form uk-form--inline`;
- на детальных страницах товара (`product/*.html`) — модальное окно с формой и кнопка «Запросить прайс-лист».

### Каталог и фильтрация

Модуль `js/catalog-filter.js`:

- `fetchProducts(filters)` — загружает `data/products.json` и сохраняет продукты в памяти;
- `applyFilters()` — фильтрует продукты по `product_type` (значения соответствуют data-атрибутам кнопок фильтра);
- `renderProducts(items)` — отрисовывает сетку карточек в `#product-grid` и простую пагинацию (`#product-pagination`).

Интерфейс фильтра — кнопки внутри блока `[data-filter="products"]` на странице `catalog.html`. Клик по кнопке перерисовывает набор карточек без перезагрузки страницы.

### Детальные страницы товара

- Шаблон: `product/product.html` (HTML-шаблон с плейсхолдерами для интеграции на стороне бэкенда).
- Демо-страницы:
  - `product/delta-17.html`
  - `product/delta-21.html`
  - `product/delta-32-table.html`

Каждая страница содержит:

- галерею (большое изображение и миниатюры, переключение делается на уровне DOM-атрибутов `data-src`);
- название (`<h1>`), краткое и полное описание;
- блок характеристик (таблица key/value, собрана из `specs`);
- ссылку на PDF-презентацию;
- кнопку «Запросить прайс-лист», открывающую модальное окно формы.

Во всех `<img>` для товаров используется `loading="lazy"` и разумные размеры, можно дополнительно расширить `srcset` при наличии реальных картинок.

### Яндекс.Карты

Модуль `js/map.js` экспортирует функцию:

```js
function initYandexMap(containerId, lat, lng) { ... }
```

На странице `contacts.html` карта инициализируется так:

```html
<script src="js/map.js"></script>
<script>
  if (typeof initYandexMap === 'function') {
    initYandexMap('uk-yamap', 43.238293, 76.945465);
  }
</script>
```

Подключение Яндекс.Карт:

1. Получи ключ API Яндекс.Карт (JavaScript API 2.1).
2. Вставь тег скрипта перед подключением `js/map.js`, например:

   ```html
   <script src="https://api-maps.yandex.ru/2.1/?apikey=YMAPS_API_KEY&lang=ru_RU" defer></script>
   ```

3. Замени `YMAPS_API_KEY` на актуальный ключ. Можно хранить его в `.env` при дальнейшем переносе на сборку (например, через Vite) и прокидывать в HTML.

Если API не подключен, модуль `map.js` ничего не ломает — остаётся декоративный плейсхолдер карты.

